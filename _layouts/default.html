<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ page.title | default: site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  {% if site.brique.logo %}
  <meta property="og:image" content="{{ site.brique.logo | absolute_url }}">
  {% endif %}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="{{ page.title | default: site.title }}">
  <meta name="twitter:description" content="{{ page.description | default: site.description }}">
  {% if site.brique.logo %}
  <meta name="twitter:image" content="{{ site.brique.logo | absolute_url }}">
  {% endif %}

  <link rel="icon" href="{{ '/favicon.ico' | relative_url }}" sizes="any">
  <link rel="apple-touch-icon" href="{{ '/assets/img/apple-touch-icon.png' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body class="brique-{{ site.brique.color | default: 'blue' }}" data-baseurl="{{ site.baseurl }}">

  <a href="#main-content" class="skip-link">Aller au contenu</a>

  <header class="site-header">
    <div class="header-content">
      <a href="{{ '/' | relative_url }}" class="header-brand">
        {% if site.brique.logo %}
          <img src="{{ site.brique.logo | relative_url }}" alt="{{ site.brique.name }}" class="header-logo">
        {% endif %}
        <span class="header-name">{{ site.brique.name }}</span>
        <span class="header-level" role="img" aria-label="Niveau {{ site.brique.level }} sur 3">
          {% for i in (1..3) %}
            <span class="level-dot {% if i <= site.brique.level %}active{% endif %}" aria-hidden="true"></span>
          {% endfor %}
        </span>
      </a>
      <a href="https://briqueparbrique.github.io" class="header-back">← BriqueParBrique</a>
    </div>
  </header>

  {% if site.brique.status == "development" %}
  <div class="dev-banner" role="alert">
    ⚠ Ce contenu est en cours de développement
  </div>
  {% endif %}

  <main class="site-main" id="main-content">
    {{ content }}
  </main>

  <footer class="site-footer">
    {% if site.brique.prev_level_url != "" or site.brique.next_level_url != "" %}
    <nav class="level-nav" aria-label="Navigation entre niveaux">
      {% if site.brique.prev_level_url != "" %}
        <a href="{{ site.brique.prev_level_url }}" class="level-nav-link level-nav-prev">← Niveau précédent</a>
      {% endif %}
      {% if site.brique.next_level_url != "" %}
        <a href="{{ site.brique.next_level_url }}" class="level-nav-link level-nav-next">Niveau suivant →</a>
      {% endif %}
    </nav>
    {% endif %}
    {% if site.repository %}
    <div class="footer-links">
      <a href="https://github.com/{{ site.repository }}/edit/main/{{ page.path }}">Modifier cette page</a>
      <a href="https://github.com/{{ site.repository }}/issues/new?title=Problème : {{ page.title | default: site.title | url_encode }}&body=Page : {{ page.url | absolute_url | url_encode }}%0A%0ADécrivez le problème ici.">Signaler un problème</a>
    </div>
    {% endif %}
    <div class="footer-content">
      <p>© {{ 'now' | date: '%Y' }} <a href="https://briqueparbrique.github.io">BriqueParBrique</a></p>
    </div>
  </footer>

  <script src="{{ '/assets/js/progress.js' | relative_url }}" defer></script>
</body>
</html>
